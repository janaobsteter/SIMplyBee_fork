<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multiple colonies • SIMplyBee</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Multiple colonies">
<meta property="og:description" content="SIMplyBee">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SIMplyBee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-question-circle"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A_Introduction_to_honeybee_biology.html">Introduction to honeybee biology</a>
    </li>
    <li>
      <a href="../articles/C_Colony_events.html">Colony Events</a>
    </li>
    <li>
      <a href="../articles/B_Multiple_colonies.html">Multiple colonies</a>
    </li>
    <li>
      <a href="../articles/D_Crossing.html">Crossing</a>
    </li>
    <li>
      <a href="../articles/E_Genomics.html">Genomics</a>
    </li>
    <li>
      <a href="../articles/G_Sampling_functions.html">Sampling functions</a>
    </li>
    <li>
      <a href="../articles/F_Quantitative_Genetics.html">Quantitative Genetics</a>
    </li>
    <li>
      <a href="../articles/Z_FAQs.html">FAQs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/HighlanderLab/SIMplyBee/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Multiple colonies</h1>
            
            <h4 data-toc-skip class="date">2023-12-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/HighlanderLab/SIMplyBee/blob/HEAD/vignettes/B_Multiple_colonies.Rmd" class="external-link"><code>vignettes/B_Multiple_colonies.Rmd</code></a></small>
      <div class="hidden name"><code>B_Multiple_colonies.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>We have already introduced the Colony class that holds
colony-specific information and caste individuals. However, when working
with honeybees, we usually do not work with a single colony, but with
apiaries or even whole populations of colonies. To cater for this,
SIMplyBee provides a <code>MultiColony</code> class. It behaves as a
list of <code>Colony</code> objects but with additional functionality -
you can apply function directly to the <code>MultiColony</code> objects.
A <code>MultiColony</code> can represent different apiaries or
sub-populations in terms of either age of the queens or geographical
location of the apiaries etc. This vignette demonstrates creating and
working with <code>MultiColony</code> objects. First, we again load the
package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"SIMplyBee"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: AlphaSimR</span></span>
<span><span class="co">#&gt; Loading required package: R6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'SIMplyBee'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     split</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="initial-settings">Initial settings<a class="anchor" aria-label="anchor" href="#initial-settings"></a>
</h2>
<p>We first initiate our simulation with founders genomes, simulation
parameters, base population of virgin queens and a drone congregation
area (DCA).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create 20 founder genomes</span></span>
<span><span class="va">founderGenomes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://gaynorr.github.io/AlphaSimR/reference/quickHaplo.html" class="external-link">quickHaplo</a></span><span class="op">(</span>nInd <span class="op">=</span> <span class="fl">30</span>, nChr <span class="op">=</span> <span class="fl">1</span>, segSites <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="co"># Set up new global simulation parameters</span></span>
<span><span class="va">SP</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/SimParamBee.html">SimParamBee</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">founderGenomes</span><span class="op">)</span></span>
<span><span class="co"># Create a base population of 20 virgin queens</span></span>
<span><span class="va">basePop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createCastePop.html">createVirginQueens</a></span><span class="op">(</span><span class="va">founderGenomes</span><span class="op">)</span></span>
<span><span class="co"># Create a DCA from the drones of the first 10 queens</span></span>
<span><span class="va">DCA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createCastePop.html">createDrones</a></span><span class="op">(</span><span class="va">basePop</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>, nInd <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-a-multicolony-object">Creating a MultiColony object<a class="anchor" aria-label="anchor" href="#creating-a-multicolony-object"></a>
</h2>
<p>We create a <code>MultiColony</code> object with
<code><a href="../reference/createMultiColony.html">createMultiColony()</a></code> function. Let’s say you want to create
a <code>MultiColony</code> object that represents a single apiary. The
first option is to initialise an empty <code>MultiColony</code> object
that represents an empty apiary without any colonies and individuals
within them.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an empty apiary</span></span>
<span><span class="va">emptyApiary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createMultiColony.html">createMultiColony</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">emptyApiary</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 0 </span></span>
<span><span class="co">#&gt; Are empty: 0 </span></span>
<span><span class="co">#&gt; Are NULL: 0 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0</span></span></code></pre></div>
<p>Let’s inspect the printout of the <code>MultiColony</code> object.
This tells how many colonies are within, how many of them are
<code>empty</code> and contain no individuals, how many are
<code>NULL</code> objects, how many have experienced a split, swarm,
supersedure, or a collapse (you can read more about these events in the
Colony events vignette), and how many of them are productive, meaning
that we can collect a production phenotype from them such as honey
yield.</p>
<p>The second option is again to create an empty
<code>MultiColony</code> object that represents an empty apiary without
any individuals within, but with a defined number of colony slots.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an empty apiary with 10 colony slots</span></span>
<span><span class="va">emptyApiary1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createMultiColony.html">createMultiColony</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">emptyApiary1</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 10 </span></span>
<span><span class="co">#&gt; Are empty: 10 </span></span>
<span><span class="co">#&gt; Are NULL: 10 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0</span></span></code></pre></div>
<p>The third option is to create a <code>MultiColony</code> object with
a population of either virgin or mated queens. For this, we first have
to initialise the simulation with founder genomes and creating a base
population of virgin queens. We will use 10 virgin queens to produce
drones and create a DCA - we will take these from the initial settings
above.</p>
<p>We will now create an apiary with 10 virgin colonies with the
<code><a href="../reference/createMultiColony.html">createMultiColony()</a></code> function by providing the second set of
10 virgin queens as the input parameter. Let’s call this apiary
<code>apiary1</code> and say that it is positioned at the location
<code>(1,1)</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an apiary with the remaining virgin queens</span></span>
<span><span class="va">apiary1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createMultiColony.html">createMultiColony</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">basePop</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co"># Set the location of the apiary</span></span>
<span><span class="va">apiary1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setLocation.html">setLocation</a></span><span class="op">(</span><span class="va">apiary1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Let’s now use functions <code><a href="../reference/isQueenPresent.html">isQueenPresent()</a></code> and
<code><a href="../reference/isVirginQueensPresent.html">isVirginQueensPresent()</a></code> to confirm all the colonies are
virgin.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check whether all the colonies are virgin</span></span>
<span><span class="fu"><a href="../reference/isQueenPresent.html">isQueenPresent</a></span><span class="op">(</span><span class="va">apiary1</span><span class="op">)</span></span>
<span><span class="co">#&gt;     1     2     3     4     5     6     7     8     9    10 </span></span>
<span><span class="co">#&gt; FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span><span class="fu"><a href="../reference/isVirginQueensPresent.html">isVirginQueensPresent</a></span><span class="op">(</span><span class="va">apiary1</span><span class="op">)</span></span>
<span><span class="co">#&gt;    1    2    3    4    5    6    7    8    9   10 </span></span>
<span><span class="co">#&gt; TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="multicolony-operations">MultiColony operations<a class="anchor" aria-label="anchor" href="#multicolony-operations"></a>
</h2>
<p>Once we have a non-empty <code>MultiColony</code> object, we can do
basic operations on it. First, we can select some colonies by either
specifying their IDs, desired number or percentage of randomly selected
colonies.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get the IDs of the colonies</span></span>
<span><span class="fu"><a href="../reference/getId.html">getId</a></span><span class="op">(</span><span class="va">apiary1</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co"># Select colonies according to IDs</span></span>
<span><span class="fu"><a href="../reference/selectColonies.html">selectColonies</a></span><span class="op">(</span><span class="va">apiary1</span>, ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 2 </span></span>
<span><span class="co">#&gt; Are empty: 0 </span></span>
<span><span class="co">#&gt; Are NULL: 0 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0</span></span>
<span><span class="co"># Randomly select a given percentage of colonies</span></span>
<span><span class="fu"><a href="../reference/selectColonies.html">selectColonies</a></span><span class="op">(</span><span class="va">apiary1</span>, p <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Randomly selecting colonies: 1</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 1 </span></span>
<span><span class="co">#&gt; Are empty: 0 </span></span>
<span><span class="co">#&gt; Are NULL: 0 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0</span></span></code></pre></div>
<p>Second, we can pull some colonies from the <code>MultiColony</code>
object. This means, that the pulled colonies are removed from the
original object. The function <code><a href="../reference/pullColonies.html">pullColonies()</a></code> therefore
returns two object - the pulled colonies and the remnant colonies.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pull one colony - returns a list with $remnant and $pulled nodes</span></span>
<span><span class="fu"><a href="../reference/pullColonies.html">pullColonies</a></span><span class="op">(</span><span class="va">apiary1</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Randomly pulling colonies: 1</span></span>
<span><span class="co">#&gt; $pulled</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 1 </span></span>
<span><span class="co">#&gt; Are empty: 0 </span></span>
<span><span class="co">#&gt; Are NULL: 0 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $remnant</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 9 </span></span>
<span><span class="co">#&gt; Are empty: 0 </span></span>
<span><span class="co">#&gt; Are NULL: 0 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0</span></span></code></pre></div>
<p>Third, we can also remove some colonies from the
<code>MultiColony</code> object with <code><a href="../reference/removeColonies.html">removeColonies()</a></code>
function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/removeColonies.html">removeColonies</a></span><span class="op">(</span><span class="va">apiary1</span>, ID <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in removeColonies(apiary1, ID = 13): ID parameter contains come invalid</span></span>
<span><span class="co">#&gt; IDs!</span></span>
<span><span class="co">#&gt; An object of class "MultiColony" </span></span>
<span><span class="co">#&gt; Number of colonies: 10 </span></span>
<span><span class="co">#&gt; Are empty: 0 </span></span>
<span><span class="co">#&gt; Are NULL: 0 </span></span>
<span><span class="co">#&gt; Have split: 0 </span></span>
<span><span class="co">#&gt; Have swarmed: 0 </span></span>
<span><span class="co">#&gt; Have superseded: 0 </span></span>
<span><span class="co">#&gt; Have collapsed: 0 </span></span>
<span><span class="co">#&gt; Are productive: 0</span></span></code></pre></div>
<p>These three functions can also select, pull, and remove colonies
based on some values (phenotypes, genetic values …). You can read more
about that in the Quantitative genetics vignette.</p>
</div>
<div class="section level2">
<h2 id="crossing-a-multicolony">Crossing a MultiColony<a class="anchor" aria-label="anchor" href="#crossing-a-multicolony"></a>
</h2>
<p>Next, we will cross all the virgin queens in the apiary with the
<code><a href="../reference/cross.html">cross()</a></code> function to groups of drones that we collected from
the DCA with the <code><a href="../reference/pullDroneGroupsFromDCA.html">pullDroneGroupsFromDCA()</a></code> function. We have
to collect at least as many groups of drones as we have colonies in our
<code>MultiColony</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pull 10 groups of drones from the DCA</span></span>
<span><span class="va">droneGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pullDroneGroupsFromDCA.html">pullDroneGroupsFromDCA</a></span><span class="op">(</span><span class="va">DCA</span>, n <span class="op">=</span> <span class="fl">10</span>, nDrones <span class="op">=</span> <span class="va">nFathersPoisson</span><span class="op">)</span></span>
<span><span class="co"># Cross all virgin queens in the apiary to the selected drones</span></span>
<span><span class="va">apiary1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cross.html">cross</a></span><span class="op">(</span><span class="va">apiary1</span>, drones <span class="op">=</span> <span class="va">droneGroups</span><span class="op">)</span></span>
<span><span class="co"># Check whether the queens are present (and hence mated)</span></span>
<span><span class="fu"><a href="../reference/isQueenPresent.html">isQueenPresent</a></span><span class="op">(</span><span class="va">apiary1</span><span class="op">)</span></span>
<span><span class="co">#&gt;    1    2    3    4    5    6    7    8    9   10 </span></span>
<span><span class="co">#&gt; TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</span></span></code></pre></div>
<p>Once we have mated queens in the apiary, we can apply all the event
functions directly to the <code>MultiColony</code> object:
<code><a href="../reference/buildUp.html">buildUp()</a></code>, <code><a href="../reference/downsize.html">downsize()</a></code>, <code><a href="../reference/swarm.html">swarm()</a></code>,
<code><a href="../reference/split.html">split()</a></code>, <code><a href="../reference/supersede.html">supersede()</a></code>, <code><a href="../reference/collapse.html">collapse()</a></code>
but also all the functions that either add, replace, or remove
individuals from the castes. Let’s say we want to build-up all the
colonies in our apiary.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build-up all the colonies in the apiary1</span></span>
<span><span class="va">apiary1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/buildUp.html">buildUp</a></span><span class="op">(</span><span class="va">apiary1</span>, nWorkers <span class="op">=</span> <span class="fl">1000</span>, nDrones <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<p>Furthermore, we can use the <code><a href="../reference/pullColonies.html">pullColonies()</a></code> or
<code><a href="../reference/selectColonies.html">selectColonies()</a></code> to subset the colonies that will for
example swarm, collapse, or supersede (presented in the Colony events
vignette), or the ones that we decided to split (check out the Colony
events vignette).</p>
</div>
<div class="section level2">
<h2 id="working-with-multiple-multicolony-objects">Working with multiple MultiColony objects<a class="anchor" aria-label="anchor" href="#working-with-multiple-multicolony-objects"></a>
</h2>
<p>Let’s now initiate another <code>MultiColony</code> named as
<code>apiary2</code> that is placed at location <code>(2,2)</code>.
Here, we define different <code>MultiColony</code> object according to
the location of the apiary, but the objects could also be defined
according to the age of the queens (such as <code>age0</code>,
<code>age1</code>…). <code>apiary2</code> contains only virgin queens
and we want to mate them to a DCA made of drones from
<code>apiary1</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Initiate apiary2 at the location (2,2)</span></span>
<span><span class="va">apiary2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createMultiColony.html">createMultiColony</a></span><span class="op">(</span><span class="va">basePop</span><span class="op">[</span><span class="fl">21</span><span class="op">:</span><span class="fl">30</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">apiary2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setLocation.html">setLocation</a></span><span class="op">(</span><span class="va">apiary2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Since some time has passed, we want to first replace the drones in
<code>apiary1</code> with new drones. We can do that with
<code><a href="../reference/replaceCastePop.html">replaceDrones()</a></code> function.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">apiary1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/replaceCastePop.html">replaceDrones</a></span><span class="op">(</span><span class="va">apiary1</span><span class="op">)</span></span></code></pre></div>
<p>Now that we have a new set of drones, we can create a DCA with the
function <code><a href="../reference/createDCA.html">createDCA()</a></code> and mate virgin queens in apiary2 to
the DCA.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check whether all colonies in apiary2 are virgin</span></span>
<span><span class="fu"><a href="../reference/isQueenPresent.html">isQueenPresent</a></span><span class="op">(</span><span class="va">apiary2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    11    12    13    14    15    16    17    18    19    20 </span></span>
<span><span class="co">#&gt; FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span><span class="fu"><a href="../reference/isVirginQueensPresent.html">isVirginQueensPresent</a></span><span class="op">(</span><span class="va">apiary2</span><span class="op">)</span></span>
<span><span class="co">#&gt;   11   12   13   14   15   16   17   18   19   20 </span></span>
<span><span class="co">#&gt; TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</span></span>
<span><span class="co"># Create a DCA from all the drones in apiary</span></span>
<span><span class="va">DCA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createDCA.html">createDCA</a></span><span class="op">(</span><span class="va">apiary1</span><span class="op">)</span></span>
<span><span class="co"># Check how big is the DCA</span></span>
<span><span class="va">DCA</span></span>
<span><span class="co">#&gt; An object of class "Pop" </span></span>
<span><span class="co">#&gt; Ploidy: 2 </span></span>
<span><span class="co">#&gt; Individuals: 1000 </span></span>
<span><span class="co">#&gt; Chromosomes: 1 </span></span>
<span><span class="co">#&gt; Loci: 100 </span></span>
<span><span class="co">#&gt; Traits: 0</span></span>
<span><span class="co"># Sample drones groups from the DCA</span></span>
<span><span class="va">droneGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pullDroneGroupsFromDCA.html">pullDroneGroupsFromDCA</a></span><span class="op">(</span><span class="va">DCA</span>, </span>
<span>                                      n <span class="op">=</span> <span class="fu"><a href="../reference/nColonies.html">nColonies</a></span><span class="op">(</span><span class="va">apiary2</span><span class="op">)</span>, </span>
<span>                                      nDrones <span class="op">=</span> <span class="va">nFathersPoisson</span><span class="op">)</span></span>
<span><span class="co"># Cross virgin queens in apiary2 to selected drones</span></span>
<span><span class="va">apiary2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cross.html">cross</a></span><span class="op">(</span><span class="va">apiary2</span>, drones <span class="op">=</span> <span class="va">droneGroups</span><span class="op">)</span></span></code></pre></div>
<p>To learn more about the <code><a href="../reference/nFathersFun.html">nFathersPoisson()</a></code> function and
other similar functions, read the Sampliong functions vignette.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jana Obšteter, Laura Strachan, Jernej Bubnič, Gregor Gorjanc.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
